<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bingo-display</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Sass -->
    <link rel="stylesheet" href="/css/style.css">

  </head>
    <div class="stats-container">
      <div class="stats">
        <div class="logo">
        </div>
      </div>
      <div class="stats">
        <div class="bingo">Bingo</div>
      </div>
      <div class="stats">
        <div class="binguito">Binguito</div>
      </div>
      <div class="stats">
        <div class="stat">
          <div class="ant">Anterior:<br>
            <h1>B3</h1>
          </div>
          <div class="ult">Ãšltimo:<br>
            <h1>N37</h1>
          </div>
        </div>
      </div>
    </div>
    <div class="tablero">
     <div class="square-container">
      <a href="">
        <div class="square">
            <div class="letra">B</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">1</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">2</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">3</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">4</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">5</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">6</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">7</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">8</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">9</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">10</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">11</div>
        </div>
       </a>
      <a href="">
        <div class="square">
            <div class="nroSelec">12</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">13</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">14</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">15</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="boton"><i class="step fi-social-facebook size-48"></i></div>
        </div>
       </a>
    </div>
     <div class="square-container">
      <a href="">
        <div class="square">
            <div class="letra">I</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">16</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">17</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">18</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">19</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">20</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">21</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">22</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">23</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">24</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">25</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">26</div>
        </div>
      </a>

      <a href="">
        <div class="square">
            <div class="nro">27</div>
        </div>        
       </a>

      <a href="">
        <div class="square">
            <div class="nro">28</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">29</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">30</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="boton"><i class="step fi-social-twitter size-48"></i></div>
        </div>
       </a>
    </div>
     <div class="square-container">
      <a href="">
        <div class="square">
            <div class="letra">N</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">31</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">32</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">33</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">34</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">35</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">36</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">37</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">38</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">39</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">40</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">41</div>
        </div>
       </a>
      <a href="">
        <div class="square">
            <div class="nro">42</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">43</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">44</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">45</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="boton">F</div>
        </div>
       </a>
    </div>
     <div class="square-container">
      <a href="">
        <div class="square">
            <div class="letra">G</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">46</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">47</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">48</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">49</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">50</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">51</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">52</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">53</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">54</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">55</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">56</div>
        </div>
       </a>
      <a href="">
        <div class="square">
            <div class="nro">57</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">58</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">59</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">60</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="boton">F</div>
        </div>
       </a>
    </div>
     <div class="square-container">
      <a href="">
        <div class="square">
            <div class="letra">O</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">61</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">62</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">63</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">64</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">65</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nroSelec">66</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">67</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">68</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">69</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">70</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">71</div>
        </div>
       </a>
      <a href="">
        <div class="square">
            <div class="nro">72</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">73</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">74</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="nro">75</div>
        </div>
       </a>

      <a href="">
        <div class="square">
            <div class="boton">F</div>
        </div>
       </a>
    </div> 
    </div>

    <script src="/socket.io-1.2.0.js"></script>
    <script src="/jquery-1.11.1.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="/bootstrap.min.js" crossorigin="anonymous"></script>
    <script>
    function marcar(tile){
      //$(tile).toggleClass('pressed');
      var nro = jQuery(tile).find('h1');
      var socket = io();
      var path = location.pathname.split("/");
      var room = path[2];
      socket.emit('ultimo numero', $(nro).attr('id'));
    }
      $(function () {
        var socket = io();
        var path = location.pathname.split("/");
        var room = path[2];
        socket.on('connect', function() {
          console.log('Se ha conectado');
          socket.emit('join', room);
        });        
        socket.on('ultimo numero', function(nro){
          console.log(nro);
          $('#'+nro).parents('a').toggleClass('pressed');
           var ultText = $('#ult').text();
                $('#ant').text(ultText);
                $('#ult').text(nro);
        });
        socket.on("history", function(data) {
          if (data.length !== 0) {
              $.each(data, function(data, nro) {
                console.log(nro);
                $('#'+nro).parents('a').addClass('pressed');
                var ultText = $('#ult').text();
                $('#ant').text(ultText);
                $('#ult').text(nro);
              });
            }else{
              console.log('sin datos!!');
            }
        });
      });
    </script>
  </body>
</html>
